<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>موقع تدريب الشطرنج</title>
    <!-- تصحيح ترتيب تحميل المكتبات - jQuery أولاً -->
<!-- استبدل سطور المكتبات بهذه -->
<script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/chess.js/0.10.3/chess.js"></script>
<link rel="stylesheet" href="https://unpkg.com/@chrisoakman/chessboardjs@1.0.0/dist/chessboard-1.0.0.min.css">
<script src="https://unpkg.com/@chrisoakman/chessboardjs@1.0.0/dist/chessboard-1.0.0.min.js"></script>
    <!-- تصحيح مسار ملف CSS -->
    <link rel="stylesheet" href="static/styles.css">
</head>
<body>
    <div class="container">
        <h1>موقع تدريب الشطرنج</h1>
        
        <!-- شاشة البداية -->
        <div class="start-screen" id="startScreen">
            <div class="welcome-message">مرحباً بك في تدريب الشطرنج</div>
            <button class="start-button" id="initialStartBtn">ابدأ مباراة جديدة</button>
        </div>

        <!-- خيارات اللعبة -->
        <div class="game-options" id="gameOptions">
            <h3>اختر لون قطع الشطرنج</h3>
            <div class="color-selection">
                <label class="color-option">
                    <input type="radio" name="playerColor" value="both" checked> اللعب بكلا اللونين
                </label>
                <label class="color-option">
                    <input type="radio" name="playerColor" value="white"> اللعب بالأبيض
                </label>
                <label class="color-option">
                    <input type="radio" name="playerColor" value="black"> اللعب بالأسود
                </label>
            </div>
            <div class="skill-level">
                <label for="skillLevel">مستوى المحرك:</label>
                <select id="skillLevel">
                    <option value="1">مبتدئ</option>
                    <option value="5">سهل</option>
                    <option value="10">متوسط</option>
                    <option value="12">متقدم</option>
                    <option value="15" selected>خبير</option>
                </select>
            </div>
            <div class="highlight-legal-moves">
                <label>
                    <input type="checkbox" id="showLegalMoves" checked> إظهار النقلات القانونية
                </label>
            </div>
            <button id="startGameBtn">ابدأ اللعب</button>
        </div>
        
        <!-- واجهة اللعبة -->
        <div class="board-wrapper" id="boardWrapper">
            <div class="board-container">
                <div id="board"></div>
            </div>
            
            <div class="game-info">
                <div class="player-info">
                    <div id="whitePlayer">الأبيض: أنت</div>
                </div>
                <div class="player-info">
                    <div id="blackPlayer">الأسود: أنت</div>
                </div>
            </div>
            
            <div class="controls">
                <button id="startBtn">بدء مباراة جديدة</button>
                <button id="toggleEngineBtn">تفعيل المحرك</button>
                <button id="undoBtn">تراجع</button>
                <button id="flipBoardBtn">قلب اللوحة</button>
            </div>
            
            <div class="engine-status">حالة المحرك: <span id="engineStatus">غير مفعل</span></div>
            <div class="best-move">النقلة المقترحة: <span id="bestMove"></span></div>
            <div class="evaluation">التقييم: <span id="moveEvaluation"></span></div>
            <div class="status">حالة اللعبة: <span id="gameStatus">جاهز للعب</span></div>
            <div class="loading" id="loadingIndicator">جاري تحليل الوضعية...</div>
            <div class="error-message" id="errorMessage"></div>
            
            <div class="notation">
                <div id="pgn"></div>
            </div>
        </div>
    </div>
    <!-- تصحيح مسار ملف JavaScript -->
    <script src="static/script.js"></script>
</body>
</html>